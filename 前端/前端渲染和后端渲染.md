#前端渲染和后端渲染
##后端渲染（服务器端渲染）
多年前，Web是一群由HTML和CSS构建的静态页面，没有太多的交互性。每个用户行为要求服务器来创建和提供一个完整的页面。后端渲染HTML的情况下，浏览器会直接接收到经过服务器计算之后的呈现给用户的最终的**HTML字符串**，这里的计算就是服务器经过解析存放在服务器端的模板文件来完成的，在这种情况下，浏览器只进行了HTML的解析，以及通过操作系统提供的操纵显示器显示内容的系统调用在显示器上把HTML所代表的图像显示给用户。

国企的网站全部是使用的后端渲染，也就是说，你点击一下，他就会刷新一个，然后从后台请求新的页面数据。

###好处：前端耗时少（前端只负责将html进行展示），利于SEO

###坏处：网络传输数据量大，占用（部分、少部分）服务器运算资源，response 出的数据量会（稍）大点，模板改了前端的交互和样式什么的一样得跟着联动修改
##前端渲染（客户端渲染）
前端渲染的方式起源于JavaScript的兴起，ajax的大热更是让前端渲染更加成熟，前端渲染真正意义上的实现了前后端分离，前端只专注于UI的开发，后端只专注于逻辑的开发，前后端交互只通过约定好的API来交互，后端提供json数据，前端循环json生成DOM插入到页面中去。

###好处：网络传输数据量小（减少了服务器压力）
###坏处：前端耗时较多，不利于SEO

其实前后端的渲染本质是一样的，都是字符串的拼接，将数据渲染进一些固定格式的html代码中形成最终的html展示在用户页面上。  因为字符串的拼接必然会损耗一些性能资源。 所以……

如果在服务器端渲染，那么消耗的就是server端的性能。所以用户量达到一定程度后，后端会考虑缓存部分数据，避免消耗过多资源重复渲染一些对及时性要求并不高的地方以节约资源。例如常见的排行榜，可以将渲染后的模块缓存起来，十分钟更新一次。

如果是在客户端渲染，常见的手段，比如是直接生成DOM插入到html 中，或者是使用一些前端的模板引擎等。他们初次渲染的原理大多是将原html中的数据标记（例如{{text}}）替换。一般来说只要不作死无脑用了document.write，浏览器端初次渲染的性能消耗都是可以接受的。
浏览器端渲染的难点在于数据变更后，页面响应式变更时如何节省资源？要知道DOM直接读写的速度是很慢的，而且不小心还会触发重绘，在复杂的SPA下直接读写DOM带来的影响会很明显。拿React、Vue来举例子，在数据变更后，他会帮你diff，没有改变可以复用的部分是不会重新渲染一遍的。

###SEO
browser端渲染是对搜索引擎不太友好的，虽然SPA怎么做SEO已经有过无数讨论和实践，但是browser端很大程度是不如server端渲染容易做SEO。
> 后端渲染html 叫吐或者喷，爬虫可以看到完整的呈现源码
前端模板渲染html叫填，爬虫看不到完整的呈现源码

###维护
server端渲染很多时候前后端是一起完成的。有的团队是前端开发人员直接写模板文件，但是也有的团队是前端写了静态html文件，后端改为模板。后一种团队在维护时是比较蛋疼的，改个css都要前后端在一起搞定（我的上一家公司就是这么做的）

###如何选择
关于在server端还是在browser端渲染的选择，更多的是要看业务场景。
例如一个注重SEO的新闻站点，非强交互的页面，做成SPA意义并不大，还是建议server端渲染。

像后台管理页面，或者是QQ空间这类强交互的网页应用，可以尝试浏览器端渲染。后端开发人员也能更加专注于接口服务的提供，不用去考虑页面的渲染问题，分工合作更加愉快。

在浏览器端渲染时，如果数据量并不大，也没有什么大的改变，那么自己用原生的DOM API去操作绰绰有余了，即使有时候有些操作会浪费一些性能资源，影响也不会太大，反而引入了框架和库却只用了一部分功能是一种浪费。但是如果做一个复杂的页面应用，我还是建议使用Vue这类库/框架来帮你完成。一方面来说，他们会帮你把业务逻辑抽象，不让你去关注渲染这些操作，可以提升开发效率；另一方面，恐怕大多数人自己实现渲染以及数据变更后的DOM变更未必会比库/框架做得好。如果他能做的更好，一定要请他为主流框架/库去提PR或者issues来帮助库/框架做的更好；或者激进点，他自己写一个框架造福大家吧。

##单页应用
###什么是单页应用(Single Page Application)？
单页面应用是指用户通过浏览器加载独立的HTML页面并且无需离开此导航页面，这也是其独特的优势所在。对用户操作来说，一旦加载和执行单个页面应用程序通常会有更多的响应，这就需要返回到后端Web服务器，而单页面应用为用户提供了更接近一个本地移动或桌面应用程序的体验。

单页应用(spa)是指在浏览器中运行的应用，它们在使用期间不会重新加载页面。像所有的应用一样，它旨在帮助用户完成任务，比如“编写文档”或者“管理Web服务器”。可以认为单页应用是一种从Web服务器加载的富客户端。

###单页应用给传统网站带来的好处？
* 它提供了更加吸引人的用户体验。单页应用可以做到一举两得：桌面应用的即时性和网站的可移植性和可访问性
* 单页应用可以和桌面应用一样渲染—单页应用只需要重绘界面上需要变化的部分。相比之下的传统网站，许多用户操作都会重绘整张页面，结果是当浏览器从服务器获取数据时，页面会假死并有“闪烁”现象，然后再重绘页面上的所有东西。如果页面很大，服务器又繁忙，或者网络连接很慢，这种“闪烁”现象会持续好几秒钟甚至是更长时间，用户只得猜测页面什么时候才可以再次使用。与单页应用的快速渲染和即时反馈相比，这是一种很恐怖的体验。
* 单页应用可以拥有和桌面应用一样的响应速度—尽可能地把（临时的）工作数据和处理过程从服务端转移到浏览器端，单页应用由此把响应时间减至最小。单页应用在本地拥有大多数需要决策判断的数据和业务逻辑，因此是很快的。只有数据验证、授权和持久存储必须要放在服务端，原因我们会在第6章到第8章中进行讨论。传统网站的大多数应用逻辑在服务端，对大部分的用户输入的响应，他们必须等待一个“请求/响应/重绘”的循环周期。与接近即时响应的单页应用相比，这需要花费几秒钟的时间。
* 单页应用可以和桌面应用一样，把它的状态通知给用户—当单页应用确实必须等待服务器的响应时，可以动态地显示进度条或者繁忙指示器，因此用户不会因延时而困惑。相比传统的网站，用户实际上只能猜测页面何时加载完并可用。
* 单页应用像网络一样，几乎随处可以访问—不像大多数的桌面应用，用户可以通过任务网络连接和适当的浏览器访问单页应用。如今，这一名单包括智能手机、平板电脑、电视、笔记本电脑和台式计算机。
* 单页应用可以像网站一样即时地更新和发布—用户不需要做任何事就能明白它的好处：他们只要重新加载浏览器就行了。维护软件的多个并存版本的麻烦在很大程度上消除了。开发单页应用的作者，在一天之内就能构建和更新很多次。桌面应用经常需要下载并且安装新版本需要管理访问权限，版本之间的间隔可能是很多个月或者很多年。
* 单页应用和网站一样，是跨平台的—和大多数的桌面应用不一样，精心编写的单页应用可以在提供现代HTML5浏览器的任意操作系统上运行。尽管这通常被认为是对开发人员的好处，但对很多同时使用多种设备的用户来说是非常有用的，比如工作时用Windows，在家用Mac，Linux服务器，Android手机和Amazon平板电脑。

所有这些好处意味着，你可能会想把下个应用做成单页应用。每次点击后都会重新渲染整张页面的笨拙网站，容易日益疏远富有经验的用户。精心编写的单页应用具有互动和快速响应的界面，还伴有访问网络的功能，这将帮助我们把客户留在属于他们的地方：使用我们的产品。

###关于单页Web应用
单页Web应用（single page web application，SPA）无疑是目前网站开发技术的弄潮儿，很多传统网站都在或者已经转型为单页Web应用，新的单页Web应用网站（包括移动平台上的）也如雨后春笋般涌现在人们的面前，如Gmail、Evernote、Trello等。如果你是一名Web开发人员，却还没开发过或者甚至是没有听说过单页应用，那你已经Out很久了。

单页Web应用和前端工程师们息息相关，因为主要的变革发生在浏览器端，用到的技术其实还是HTML+CSS+JavaScript，所有的浏览器都原生支持，当然有的浏览器因为具备一些高级特性，从而使得单页Web应用的用户体验更上一层楼。关于单页应用的优点和缺点，网上讲解的文章有很多，这里就不展开论述了。 单页Web应用，顾名思义，就是只有一张Web页面的应用。浏览器一开始会加载必需的HTML、CSS和JavaScript，之后所有的操作都在这张页面上完成，这一切都由JavaScript来控制。因此，单页Web应用会包含大量的JavaScript代码，复杂度可想而知，模块化开发和设计的重要性不言而喻。

###我的认识
目前可以前端可以用来做单页应用的框架有很多，React、Angular、Vue等，单页应用嘛，就是说只有一个页面，以往的跳转页面改为了使用#来条锚点的方式，全程使用JavaScript，所以你知道的，SEO并不好，虽然说现在用来解决单页应用的SEO手段有好多吧（但是我不会），既然说是应用，想必都是有针对性的，不会依赖于蜘蛛来推广。他的优点还是很有优势的：

* 首先，最大的好处是用户体验，对于内容的改动不需要加载整个页面。这样做好处颇多，因为数据层和UI的分离，可以重新编写一个原生的移动设备应用程序而不用（对原有数据服务部分）大动干戈。
* 单页面Web应用层程序最根本的优点是高效。它对服务器压力很小，消耗更少的带宽，能够与面向服务的架构更好地结合。

但是缺点也不能忽视：

* SEO  （但是我相信这个问题在以后会有很好的解决），如果你看中SEO，那么就不要在页面上使用JavaScript。
* 初次加载比较耗费时间
* 前进、后退、地址栏等需要程序进行管理（其实就看你的路由怎么实现的啦）

单页Web应用程序的结构很简单：首先传递HTML文档框架；然后使用JavaScript修改页面；紧接着再从服务器传递更多数据然后再修改页面，如此循环。从性能的角度看，在现代浏览器中单页面Web App已经能够和普通应用程序相媲美，而且几乎所有的操作系统都支持现代的浏览器。使用HTML+CSS+Javascript编写应用程序，能使更多的人们都加入到程序开发的行列。